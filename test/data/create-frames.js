'use strict';

var CallsiteRecord = require('../../lib');

module.exports = function createFrames (sync, renderer, frameSize) {
    // -------------
    function TestClass () {
        addFrame('constructor', 'TestClass');
    }

    TestClass.prototype.someFunc = function () {
        addFrame('someFunc', 'TestClass');
    };

    TestClass.staticFunc = function () {
        addFrame('staticFunc', 'Function');
    };

    var obj = {
        func: function () {
            addFrame('func', 'Object');
        }
    };

    function regularFunc1 () {
        addFrame('regularFunc2');
    }

    function regularFunc2 () {
        regularFunc1();
    }

    var frames = [];

    function addFrame (fnName, typeName) {
        var record = new CallsiteRecord(fnName, typeName);
        var opts   = { renderer: renderer, frameSize: frameSize };

        frames.push(sync ? record.renderSync(opts) : record.render(opts));
    }

    // NOTE: add blank lines to reach 3-digit line numbers
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************
    // ***************************************************

    /* Multiline
         comment*/
    var testClass = new TestClass();

    testClass.someFunc();
    TestClass.staticFunc();

    obj.func();

    (function () {
        regularFunc2();
    })();

    ['test'].forEach(regularFunc2);

    return frames;
};
